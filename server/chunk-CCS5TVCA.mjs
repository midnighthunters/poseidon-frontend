import './polyfills.server.mjs';
import{$ as Xe,A as h,Aa as li,B as f,Ba as ot,C as ve,Ca as di,D as z,Da as ui,E as P,F as Ke,G as v,Ga as pi,H as _e,I as a,J as c,K as I,Ka as st,L as mt,La as hi,M as ft,N as M,Na as R,O as y,Oa as mi,P as g,Q as Ye,R as At,S as m,T as O,U as rt,V as U,W as $,X as G,Y as gt,Z as D,_ as Ze,a as it,aa as ti,b as We,ba as Vt,c as ze,d as s,da as ei,e as It,f as u,g as Je,h as Qe,i as Mt,ia as ii,j as pt,k as w,ka as Ce,l as he,la as ni,m as nt,ma as be,n as x,o as ht,oa as Dt,p as V,pa as ri,q as me,qa as J,r as B,ra as F,s as fe,sa as oi,t as C,ta as S,u as b,ua as Q,v as ge,va as si,w as ye,wa as ai,x as X,xa as ci,y as Pt,ya as p,z as W,za as j}from"./chunk-VZ5CPL33.mjs";import{a as k,b as q}from"./chunk-VVCT4QZE.mjs";var E=(()=>{let t=class t{constructor(){this.rootUrl="http://localhost:10102"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var T=(()=>{let t=class t{constructor(e,i){this.config=e,this.http=i}get rootUrl(){return this._rootUrl||this.config.rootUrl}set rootUrl(e){this._rootUrl=e}};t.\u0275fac=function(i){return new(i||t)(x(E),x(j))},t.\u0275prov=w({token:t,factory:t.\u0275fac});let n=t;return n})();var xe=class{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}},Zi=new xe,vt=class{constructor(t,o,e,i,r){this.name=t,this.value=o,this.options=e,this.options=e||{},(this.options.style===null||this.options.style===void 0)&&(this.options.style=i),(this.options.explode===null||this.options.explode===void 0)&&(this.options.explode=r)}serializeValue(t,o=","){if(t==null)return"";if(t instanceof Array)return t.map(e=>this.serializeValue(e).split(o).join(encodeURIComponent(o))).join(o);if(typeof t=="object"){let e=[];for(let i of Object.keys(t)){let r=t[i];r!=null&&(r=this.serializeValue(r).split(o).join(encodeURIComponent(o)),this.options.explode?e.push(`${i}=${r}`):(e.push(i),e.push(r)))}return e.join(o)}else return String(t)}},we=class extends vt{constructor(t,o,e){super(t,o,e,"simple",!1)}append(t){let o=this.value;o==null&&(o="");let e=this.options.style==="label"?".":"",i=this.options.explode?e===""?",":e:",",r=!1;return this.options.style==="matrix"&&(e=`;${this.name}=`,this.options.explode&&typeof o=="object"&&(e=";",o instanceof Array?(o=o.map(l=>`${this.name}=${this.serializeValue(l,";")}`),o=o.join(";"),r=!0):(o=this.serializeValue(o,";"),r=!0))),o=e+(r?o:this.serializeValue(o,i)),t=t.replace(`{${this.name}}`,o),t=t.replace(`{${e}${this.name}${this.options.explode?"*":""}}`,o),t}serializeValue(t,o=","){var e=typeof t=="string"?encodeURIComponent(t):super.serializeValue(t,o);return e=e.replace(/%3D/g,"="),e=e.replace(/%3B/g,";"),e=e.replace(/%2C/g,","),e}},Ie=class extends vt{constructor(t,o,e){super(t,o,e,"form",!0)}append(t){if(this.value instanceof Array)if(this.options.explode)for(let o of this.value)t=t.append(this.name,this.serializeValue(o));else{let o=this.options.style==="spaceDelimited"?" ":this.options.style==="pipeDelimited"?"|":",";return t.append(this.name,this.serializeValue(this.value,o))}else if(this.value!==null&&typeof this.value=="object")if(this.options.style==="deepObject")for(let o of Object.keys(this.value)){let e=this.value[o];e!=null&&(t=t.append(`${this.name}[${o}]`,this.serializeValue(e)))}else if(this.options.explode)for(let o of Object.keys(this.value)){let e=this.value[o];e!=null&&(t=t.append(o,this.serializeValue(e)))}else{let o=[];for(let e of Object.keys(this.value)){let i=this.value[e];i!=null&&(o.push(e),o.push(i))}t=t.append(this.name,this.serializeValue(o))}else this.value!==null&&this.value!==void 0&&(t=t.append(this.name,this.serializeValue(this.value)));return t}},Me=class extends vt{constructor(t,o,e){super(t,o,e,"simple",!1)}append(t){if(this.value!==null&&this.value!==void 0)if(this.value instanceof Array)for(let o of this.value)t=t.append(this.name,this.serializeValue(o));else t=t.append(this.name,this.serializeValue(this.value));return t}},d=class{constructor(t,o,e){this.rootUrl=t,this.operationPath=o,this.method=e,this._path=new Map,this._query=new Map,this._header=new Map}path(t,o,e){this._path.set(t,new we(t,o,e||{}))}query(t,o,e){this._query.set(t,new Ie(t,o,e||{}))}header(t,o,e){this._header.set(t,new Me(t,o,e||{}))}body(t,o="application/json"){if(t instanceof Blob?this._bodyContentType=t.type:this._bodyContentType=o,this._bodyContentType==="application/x-www-form-urlencoded"&&t!==null&&typeof t=="object"){let e=[];for(let i of Object.keys(t)){let r=t[i];r instanceof Array||(r=[r]);for(let l of r){let _=this.formDataValue(l);_!==null&&e.push([i,_])}}this._bodyContent=e.map(i=>`${encodeURIComponent(i[0])}=${encodeURIComponent(i[1])}`).join("&")}else if(this._bodyContentType==="multipart/form-data"){let e=new FormData;if(t!=null)for(let i of Object.keys(t)){let r=t[i];if(r instanceof Array)for(let l of r){let _=this.formDataValue(l);_!==null&&e.append(i,_)}else{let l=this.formDataValue(r);l!==null&&e.set(i,l)}}this._bodyContent=e}else this._bodyContent=t}formDataValue(t){return t==null?null:t instanceof Blob?t:typeof t=="object"?new Blob([JSON.stringify(t)],{type:"application/json"}):String(t)}build(t){t=t||{};let o=this.operationPath;for(let l of this._path.values())o=l.append(o);let e=this.rootUrl+o,i=new ai({encoder:Zi});for(let l of this._query.values())i=l.append(i);let r=new si;t.accept&&(r=r.append("Accept",t.accept));for(let l of this._header.values())r=l.append(r);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(r=r.set("Content-Type",this._bodyContentType)),new ci(this.method.toUpperCase(),e,this._bodyContent,{params:i,headers:r,responseType:t.responseType,reportProgress:t.reportProgress,context:t.context})}};function Ot(n,t,o,e){let i=new d(t,Ot.PATH,"get");return n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Ot.PATH="/user/all";function St(n,t,o,e){let i=new d(t,St.PATH,"get");return o&&i.query("id",o.id,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}St.PATH="/user/get";function Et(n,t,o,e){let i=new d(t,Et.PATH,"get");return o&&i.query("phone",o.phone,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Et.PATH="/user/get/identity";function Tt(n,t,o,e){let i=new d(t,Tt.PATH,"post");return o&&i.body(o.body,"application/json"),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Tt.PATH="/user/add";function kt(n,t,o,e){let i=new d(t,kt.PATH,"post");return o&&(i.path("userId",o.userId,{}),i.body(o.body,"application/json")),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}kt.PATH="/user/update/{userId}/address";var Pe=(()=>{let t=class t extends T{constructor(e,i){super(e,i)}updateAddress$Response(e,i){return kt(this.http,this.rootUrl,e,i)}updateAddress(e,i){return this.updateAddress$Response(e,i).pipe(s(r=>r.body))}saveUser$Response(e,i){return Tt(this.http,this.rootUrl,e,i)}saveUser(e,i){return this.saveUser$Response(e,i).pipe(s(r=>r.body))}getUserById$Response(e,i){return St(this.http,this.rootUrl,e,i)}getUserById(e,i){return this.getUserById$Response(e,i).pipe(s(r=>r.body))}getUserByIdentity$Response(e,i){return Et(this.http,this.rootUrl,e,i)}getUserByIdentity(e,i){return this.getUserByIdentity$Response(e,i).pipe(s(r=>r.body))}getAllUsers$Response(e,i){return Ot(this.http,this.rootUrl,e,i)}getAllUsers(e,i){return this.getAllUsers$Response(e,i).pipe(s(r=>r.body))}};t.UpdateAddressPath="/user/update/{userId}/address",t.SaveUserPath="/user/add",t.GetUserByIdPath="/user/get",t.GetUserByIdentityPath="/user/get/identity",t.GetAllUsersPath="/user/all",t.\u0275fac=function(i){return new(i||t)(x(E),x(j))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Ft(n,t,o,e){let i=new d(t,Ft.PATH,"get");return n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Ft.PATH="/product/categories/all";function jt(n,t,o,e){let i=new d(t,jt.PATH,"get");return n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}jt.PATH="/product/all";function Rt(n,t,o,e){let i=new d(t,Rt.PATH,"get");return n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Rt.PATH="/product/carousel";function Nt(n,t,o,e){let i=new d(t,Nt.PATH,"get");return o&&i.query("id",o.id,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Nt.PATH="/product/get";function Ht(n,t,o,e){let i=new d(t,Ht.PATH,"get");return o&&i.path("category",o.category,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Ht.PATH="/product/category/{category}";function Bt(n,t,o,e){let i=new d(t,Bt.PATH,"post");return o&&i.body(o.body,"application/json"),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Bt.PATH="/product/carousel/add";function qt(n,t,o,e){let i=new d(t,qt.PATH,"post");return o&&i.body(o.body,"application/json"),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}qt.PATH="/product/add";var Ae=(()=>{let t=class t extends T{constructor(e,i){super(e,i)}saveCarousel$Response(e,i){return Bt(this.http,this.rootUrl,e,i)}saveCarousel(e,i){return this.saveCarousel$Response(e,i).pipe(s(r=>r.body))}saveProduct$Response(e,i){return qt(this.http,this.rootUrl,e,i)}saveProduct(e,i){return this.saveProduct$Response(e,i).pipe(s(r=>r.body))}getProductById$Response(e,i){return Nt(this.http,this.rootUrl,e,i)}getProductById(e,i){return this.getProductById$Response(e,i).pipe(s(r=>r.body))}getProductsByCategory$Response(e,i){return Ht(this.http,this.rootUrl,e,i)}getProductsByCategory(e,i){return this.getProductsByCategory$Response(e,i).pipe(s(r=>r.body))}getAllCategories$Response(e,i){return Ft(this.http,this.rootUrl,e,i)}getAllCategories(e,i){return this.getAllCategories$Response(e,i).pipe(s(r=>r.body))}getCarouselItems$Response(e,i){return Rt(this.http,this.rootUrl,e,i)}getCarouselItems(e,i){return this.getCarouselItems$Response(e,i).pipe(s(r=>r.body))}getAllProduct$Response(e,i){return jt(this.http,this.rootUrl,e,i)}getAllProduct(e,i){return this.getAllProduct$Response(e,i).pipe(s(r=>r.body))}};t.SaveCarouselPath="/product/carousel/add",t.SaveProductPath="/product/add",t.GetProductByIdPath="/product/get",t.GetProductsByCategoryPath="/product/category/{category}",t.GetAllCategoriesPath="/product/categories/all",t.GetCarouselItemsPath="/product/carousel",t.GetAllProductPath="/product/all",t.\u0275fac=function(i){return new(i||t)(x(E),x(j))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Ve(n,t,o,e){let i=new d(t,Ve.PATH,"post");return o&&i.query("paymentId",o.paymentId,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Ve.PATH="/payment/capture";function De(n,t,o,e){let i=new d(t,De.PATH,"post");return o&&i.body(o.body,"application/json"),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}De.PATH="/payment/create";function Oe(n,t,o,e){let i=new d(t,Oe.PATH,"get");return n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Oe.PATH="/order/all";function Se(n,t,o,e){let i=new d(t,Se.PATH,"get");return o&&i.query("id",o.id,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Se.PATH="/order/get";function Ee(n,t,o,e){let i=new d(t,Ee.PATH,"post");return o&&i.body(o.body,"application/json"),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Ee.PATH="/order/add";function Ut(n,t,o,e){let i=new d(t,Ut.PATH,"get");return n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Ut.PATH="/cart/all";function $t(n,t,o,e){let i=new d(t,$t.PATH,"get");return o&&i.query("id",o.id,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}$t.PATH="/cart/get";function Gt(n,t,o,e){let i=new d(t,Gt.PATH,"get");return o&&i.query("id",o.id,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Gt.PATH="/cart/get/userId";function Lt(n,t,o,e){let i=new d(t,Lt.PATH,"post");return o&&(i.query("userId",o.userId,{}),i.body(o.body,"application/json")),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Lt.PATH="/cart/add";var Te=(()=>{let t=class t extends T{constructor(e,i){super(e,i)}saveCart$Response(e,i){return Lt(this.http,this.rootUrl,e,i)}saveCart(e,i){return this.saveCart$Response(e,i).pipe(s(r=>r.body))}getCartById$Response(e,i){return $t(this.http,this.rootUrl,e,i)}getCartById(e,i){return this.getCartById$Response(e,i).pipe(s(r=>r.body))}getCartByUserId$Response(e,i){return Gt(this.http,this.rootUrl,e,i)}getCartByUserId(e,i){return this.getCartByUserId$Response(e,i).pipe(s(r=>r.body))}getAllCarts$Response(e,i){return Ut(this.http,this.rootUrl,e,i)}getAllCarts(e,i){return this.getAllCarts$Response(e,i).pipe(s(r=>r.body))}};t.SaveCartPath="/cart/add",t.GetCartByIdPath="/cart/get",t.GetCartByUserIdPath="/cart/get/userId",t.GetAllCartsPath="/cart/all",t.\u0275fac=function(i){return new(i||t)(x(E),x(j))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Wt(n,t,o,e){let i=new d(t,Wt.PATH,"post");return o&&i.body(o.body,"application/json"),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Wt.PATH="/auth/authenticate";function zt(n,t,o,e){let i=new d(t,zt.PATH,"post");return o&&i.body(o.body,"application/json"),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}zt.PATH="/auth/login";function Jt(n,t,o,e){let i=new d(t,Jt.PATH,"post");return n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Jt.PATH="/auth/logout";var ke=(()=>{let t=class t extends T{constructor(e,i){super(e,i)}logout$Response(e,i){return Jt(this.http,this.rootUrl,e,i)}logout(e,i){return this.logout$Response(e,i).pipe(s(r=>r.body))}login$Response(e,i){return zt(this.http,this.rootUrl,e,i)}login(e,i){return this.login$Response(e,i).pipe(s(r=>r.body))}authenticate$Response(e,i){return Wt(this.http,this.rootUrl,e,i)}authenticate(e,i){return this.authenticate$Response(e,i).pipe(s(r=>r.body))}};t.LogoutPath="/auth/logout",t.LoginPath="/auth/login",t.AuthenticatePath="/auth/authenticate",t.\u0275fac=function(i){return new(i||t)(x(E),x(j))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Qt(n,t,o,e){let i=new d(t,Qt.PATH,"get");return o&&i.query("JWTtoken",o.JWTtoken,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Qt.PATH="/create/jws";function Kt(n,t,o,e){let i=new d(t,Kt.PATH,"get");return o&&i.query("token",o.token,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Kt.PATH="/get/jwt/data";function Yt(n,t,o,e){let i=new d(t,Yt.PATH,"get");return o&&(i.path("userId",o.userId,{}),i.query("validityInMillis",o.validityInMillis,{})),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Yt.PATH="/get/jwt/{userId}";function Zt(n,t,o,e){let i=new d(t,Zt.PATH,"get");return o&&i.query("token",o.token,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r.clone({body:String(r.body)==="true"})))}Zt.PATH="/validate";function Xt(n,t,o,e){let i=new d(t,Xt.PATH,"get");return o&&i.query("JWStoken",o.JWStoken,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}Xt.PATH="/get/jws/verify";var Fe=(()=>{let t=class t extends T{constructor(e,i){super(e,i)}validateToken$Response(e,i){return Zt(this.http,this.rootUrl,e,i)}validateToken(e,i){return this.validateToken$Response(e,i).pipe(s(r=>r.body))}getJwtToken$Response(e,i){return Yt(this.http,this.rootUrl,e,i)}getJwtToken(e,i){return this.getJwtToken$Response(e,i).pipe(s(r=>r.body))}getJwtData$Response(e,i){return Kt(this.http,this.rootUrl,e,i)}getJwtData(e,i){return this.getJwtData$Response(e,i).pipe(s(r=>r.body))}verifyJws$Response(e,i){return Xt(this.http,this.rootUrl,e,i)}verifyJws(e,i){return this.verifyJws$Response(e,i).pipe(s(r=>r.body))}createJws$Response(e,i){return Qt(this.http,this.rootUrl,e,i)}createJws(e,i){return this.createJws$Response(e,i).pipe(s(r=>r.body))}};t.ValidateTokenPath="/validate",t.GetJwtTokenPath="/get/jwt/{userId}",t.GetJwtDataPath="/get/jwt/data",t.VerifyJwsPath="/get/jws/verify",t.CreateJwsPath="/create/jws",t.\u0275fac=function(i){return new(i||t)(x(E),x(j))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function je(n,t,o,e){let i=new d(t,je.PATH,"get");return o&&i.query("userId",o.userId,{}),n.request(i.build({responseType:"json",accept:"application/json",context:e})).pipe(u(r=>r instanceof p),s(r=>r))}je.PATH="/checkout";var N=(()=>{let t=class t{constructor(e,i,r,l){this.platformId=e,this.authService=i,this.jwtService=r,this.userService=l,this.isAuthenticatedSubject=new it(this.isLoggedIn()),this.isAuthenticated$=this.isAuthenticatedSubject.asObservable(),this.errorMessage="",this.uuid="",this.AUTH_TOKEN_KEY="auth_token"}setAuthToken(e){Q(this.platformId)&&(localStorage.setItem(this.AUTH_TOKEN_KEY,e),this.isAuthenticatedSubject.next(!0))}getAuthToken(){return Q(this.platformId)?localStorage.getItem(this.AUTH_TOKEN_KEY):null}clearAuthToken(){Q(this.platformId)&&(localStorage.removeItem(this.AUTH_TOKEN_KEY),this.isAuthenticatedSubject.next(!1))}isAuthenticated(){return!!this.getAuthToken()}sendOTP(e){let i={body:e};return this.authService.login(i)}verifyOTP(e){let i={body:e};return this.authService.authenticate(i)}getUserId(){let i={token:this.getAuthToken()??""};return this.jwtService.getJwtData(i).pipe(s(r=>{if(r&&typeof r.uniqueUserId=="string")return r.uniqueUserId;throw new Error("User ID not found in JWT data")}))}fetchAddress(){return this.getUserId().pipe(Qe(e=>{let i={phone:e.replace("+","%2b")};return this.userService.getUserByIdentity(i)}))}saveAddress(e){this.getUserId().subscribe(i=>{let r={userId:i,body:e};this.userService.updateAddress(r)})}isLoggedIn(){if(Q(this.platformId)){let e=this.getAuthToken();return e!==null&&!this.isTokenExpired(e)}return!1}isTokenExpired(e){let i={token:e};return this.jwtService.validateToken(i)}};t.\u0275fac=function(i){return new(i||t)(x(Pt),x(ke),x(Fe),x(Pe))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var K=(()=>{let t=class t{constructor(e,i,r){this.platformId=e,this.authService=i,this.cartService=r,this.itemsSubject=new it(this.loadCartItems()),this.items$=this.itemsSubject.asObservable(),this.items=this.loadCartItems(),Q(this.platformId)&&this.items$.subscribe(l=>{localStorage.setItem("cartItems",JSON.stringify(l))})}loadCartItems(){if(!this.authService.isLoggedIn()){if(Q(this.platformId)){let i=localStorage.getItem("cartItems");return i?JSON.parse(i):[]}}return[]}updateCartItems(e){this.items=e,this.itemsSubject.next(this.items)}addToCart(e){let i=this.items.findIndex(r=>r.productId===e.productId);if(i!==-1){let r=q(k({},this.items[i]),{quantity:this.items[i].quantity??1});this.items.splice(i,1,r)}else this.items.push(q(k({},e),{quantity:1}));this.updateCartItems(this.items)}removeFromCart(e){let i=this.items.findIndex(r=>r.productId===e);if(i!==-1){let r=this.items[i].quantity??-1;if(r>0){let l=q(k({},this.items[i]),{quantity:r});this.items.splice(i,1,l)}else this.items.splice(i,1);this.updateCartItems(this.items)}}getItems(){return this.items}clearCart(){this.items=[],this.updateCartItems(this.items)}getTotalPrice(e,i){return e.reduce((r,l)=>{let _=i.find(H=>H.productId===l.id);if(_){let H=l.price??0,Yi=_.quantity??1;return r+H*Yi}return r},0)}isInCart(e){return this.items.some(i=>i.productId===e)}getUserCart(e){let i={id:e};return this.cartService.getCartByUserId(i)}};t.\u0275fac=function(i){return new(i||t)(x(Pt),x(N),x(Te))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function tn(n,t){if(n&1){let o=M();a(0,"div",7)(1,"button",8),y("click",function(i){C(o);let r=g();return b(r.removeFromCart(i))}),m(2,"-"),c(),a(3,"span",9),m(4),c(),a(5,"button",8),y("click",function(i){C(o);let r=g();return b(r.addToCart(i))}),m(6,"+"),c()()}if(n&2){let o=g();h(4),O(o.getProductQuantity())}}function en(n,t){if(n&1){let o=M();a(0,"button",10),y("click",function(i){C(o);let r=g();return b(r.addToCart(i))}),m(1,"Add to Cart"),c()}}var ee=(()=>{let t=class t{constructor(e){this.cartService=e,this.inCart=!1,this.quantity=0}ngOnInit(){this.cartService.items$.subscribe(e=>{if(this.inCart=e.some(i=>i.productId===this.product.id),this.inCart){let i=e.find(r=>r.productId===this.product.id);this.quantity=i?.quantity??0}else this.quantity=0})}addToCart(e){e.stopPropagation(),this.cartService.addToCart({productId:this.product.id,quantity:1})}removeFromCart(e){e.stopPropagation(),this.cartService.removeFromCart(this.product.id)}getProductQuantity(){return this.quantity}};t.\u0275fac=function(i){return new(i||t)(f(K))},t.\u0275cmp=V({type:t,selectors:[["app-product"]],inputs:{product:"product"},standalone:!0,features:[D],decls:10,vars:6,consts:[["addCart",""],[1,"card","h-100","product-card"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","cart-management",4,"ngIf","ngIfElse"],[1,"cart-management"],[1,"btn","btn-outline-primary",3,"click"],[1,"quantity"],[1,"btn","btn-primary","add-to-cart",3,"click"]],template:function(i,r){if(i&1&&(a(0,"div",1),I(1,"img",2),a(2,"div",3)(3,"h5",4),m(4),c(),a(5,"p",5),m(6),c(),P(7,tn,7,1,"div",6)(8,en,2,0,"ng-template",null,0,Vt),c()()),i&2){let l=At(9);h(),v("src",r.product.imageUrl,W)("alt",r.product.name),h(3),O(r.product.name),h(2),rt("Price: $",r.product.price,""),h(),v("ngIf",r.inCart)("ngIfElse",l)}},dependencies:[S,F],styles:[".product[_ngcontent-%COMP%]{margin:10px 0;border:none;box-shadow:0 4px 8px #0000001a;border-radius:10px;transition:box-shadow .3s ease-in-out}.product[_ngcontent-%COMP%]:hover{box-shadow:0 6px 12px #0003}.product[_ngcontent-%COMP%]   img.card-img-top[_ngcontent-%COMP%]{width:100%;object-fit:contain;border-top-left-radius:10px;border-top-right-radius:10px}.card-body[_ngcontent-%COMP%]{padding:15px}.card-title[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{margin-bottom:10px}.cart-management[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .add-to-cart[_ngcontent-%COMP%]{margin-top:10px;width:auto}.add-to-cart[_ngcontent-%COMP%]{width:100%}.quantity[_ngcontent-%COMP%]{font-weight:700;margin:0 10px}.product-card[_ngcontent-%COMP%]{transition:transform .2s}.product-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card-img-top[_ngcontent-%COMP%]{object-fit:cover;height:200px}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.card-text[_ngcontent-%COMP%]{font-size:1rem}"]});let n=t;return n})();var Ii=(()=>{let t=class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}};t.\u0275fac=function(i){return new(i||t)(f(ve),f(ye))},t.\u0275dir=B({type:t});let n=t;return n})(),nn=(()=>{let t=class t extends Ii{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=ge(t)))(r||t)}})(),t.\u0275dir=B({type:t,features:[z]});let n=t;return n})(),Mi=new nt("");var rn={provide:Mi,useExisting:pt(()=>Y),multi:!0};function on(){let n=be()?be().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var sn=new nt(""),Y=(()=>{let t=class t extends Ii{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!on())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}};t.\u0275fac=function(i){return new(i||t)(f(ve),f(ye),f(sn,8))},t.\u0275dir=B({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&y("input",function(_){return r._handleInput(_.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(_){return r._compositionEnd(_.target.value)})},features:[gt([rn]),z]});let n=t;return n})();function an(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Ne=new nt(""),Pi=new nt("");function cn(n){return an(n.value)?{required:!0}:null}function gi(n){return null}function Ai(n){return n!=null}function Vi(n){return ei(n)?We(n):n}function Di(n){let t={};return n.forEach(o=>{t=o!=null?k(k({},t),o):t}),Object.keys(t).length===0?null:t}function Oi(n,t){return t.map(o=>o(n))}function ln(n){return!n.validate}function Si(n){return n.map(t=>ln(t)?t:o=>t.validate(o))}function dn(n){if(!n)return null;let t=n.filter(Ai);return t.length==0?null:function(o){return Di(Oi(o,t))}}function He(n){return n!=null?dn(Si(n)):null}function un(n){if(!n)return null;let t=n.filter(Ai);return t.length==0?null:function(o){let e=Oi(o,t).map(Vi);return It(e).pipe(s(Di))}}function Be(n){return n!=null?un(Si(n)):null}function yi(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function pn(n){return n._rawValidators}function hn(n){return n._rawAsyncValidators}function Re(n){return n?Array.isArray(n)?n:[n]:[]}function ne(n,t){return Array.isArray(n)?n.includes(t):n===t}function vi(n,t){let o=Re(t);return Re(n).forEach(i=>{ne(o,i)||o.push(i)}),o}function _i(n,t){return Re(t).filter(o=>!ne(n,o))}var re=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=He(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Be(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,o){return this.control?this.control.hasError(t,o):!1}getError(t,o){return this.control?this.control.getError(t,o):null}},lt=class extends re{get formDirective(){return null}get path(){return null}},xt=class extends re{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},oe=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},mn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oc=q(k({},mn),{"[class.ng-submitted]":"isSubmitted"}),dt=(()=>{let t=class t extends oe{constructor(e){super(e)}};t.\u0275fac=function(i){return new(i||t)(f(xt,2))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&_e("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[z]});let n=t;return n})(),Ei=(()=>{let t=class t extends oe{constructor(e){super(e)}};t.\u0275fac=function(i){return new(i||t)(f(lt,10))},t.\u0275dir=B({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&_e("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[z]});let n=t;return n})();var _t="VALID",ie="INVALID",ct="PENDING",Ct="DISABLED";function Ti(n){return(ce(n)?n.validators:n)||null}function fn(n){return Array.isArray(n)?He(n):n||null}function ki(n,t){return(ce(t)?t.asyncValidators:n)||null}function gn(n){return Array.isArray(n)?Be(n):n||null}function ce(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function yn(n,t,o){let e=n.controls;if(!(t?Object.keys(e):e).length)throw new Mt(1e3,"");if(!e[o])throw new Mt(1001,"")}function vn(n,t,o){n._forEachChild((e,i)=>{if(o[i]===void 0)throw new Mt(1002,"")})}var se=class{constructor(t,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(o)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_t}get invalid(){return this.status===ie}get pending(){return this.status==ct}get disabled(){return this.status===Ct}get enabled(){return this.status!==Ct}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(vi(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(vi(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_i(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_i(t,this._rawAsyncValidators))}hasValidator(t){return ne(this._rawValidators,t)}hasAsyncValidator(t){return ne(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(o=>{o.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ct,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let o=this._parentMarkedDirty(t.onlySelf);this.status=Ct,this.errors=null,this._forEachChild(e=>{e.disable(q(k({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(k({},t),{skipPristineCheck:o})),this._onDisabledChange.forEach(e=>e(!0))}enable(t={}){let o=this._parentMarkedDirty(t.onlySelf);this.status=_t,this._forEachChild(e=>{e.enable(q(k({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(q(k({},t),{skipPristineCheck:o})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_t||this.status===ct)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ct:_t}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ct,this._hasOwnPendingAsyncValidator=!0;let o=Vi(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,o={}){this.errors=t,this._updateControlsErrors(o.emitEvent!==!1)}get(t){let o=t;return o==null||(Array.isArray(o)||(o=o.split(".")),o.length===0)?null:o.reduce((e,i)=>e&&e._find(i),this)}getError(t,o){let e=o?this.get(o):this;return e&&e.errors?e.errors[t]:null}hasError(t,o){return!!this.getError(t,o)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Ct:this.errors?ie:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ct)?ct:this._anyControlsHaveStatus(ie)?ie:_t}_anyControlsHaveStatus(t){return this._anyControls(o=>o.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ce(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let o=this._parent&&this._parent.dirty;return!t&&!!o&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=fn(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=gn(this._rawAsyncValidators)}},ae=class extends se{constructor(t,o,e){super(Ti(o),ki(e,o)),this.controls=t,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,o){return this.controls[t]?this.controls[t]:(this.controls[t]=o,o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange),o)}addControl(t,o,e={}){this.registerControl(t,o),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}removeControl(t,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}setControl(t,o,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],o&&this.registerControl(t,o),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,o={}){vn(this,!0,t),Object.keys(t).forEach(e=>{yn(this,!0,e),this.controls[e].setValue(t[e],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(t,o={}){t!=null&&(Object.keys(t).forEach(e=>{let i=this.controls[e];i&&i.patchValue(t[e],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(t={},o={}){this._forEachChild((e,i)=>{e.reset(t?t[i]:null,{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}getRawValue(){return this._reduceChildren({},(t,o,e)=>(t[e]=o.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(o,e)=>e._syncPendingControls()?!0:o);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(o=>{let e=this.controls[o];e&&t(e,o)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[o,e]of Object.entries(this.controls))if(this.contains(o)&&t(e))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(o,e,i)=>((e.enabled||this.disabled)&&(o[i]=e.value),o))}_reduceChildren(t,o){let e=t;return this._forEachChild((i,r)=>{e=o(e,i,r)}),e}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var qe=new nt("CallSetDisabledState",{providedIn:"root",factory:()=>Ue}),Ue="always";function _n(n,t){return[...t.path,n]}function Fi(n,t,o=Ue){ji(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||o==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),bn(n,t),wn(n,t),xn(n,t),Cn(n,t)}function Ci(n,t){n.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(t)})}function Cn(n,t){if(t.valueAccessor.setDisabledState){let o=e=>{t.valueAccessor.setDisabledState(e)};n.registerOnDisabledChange(o),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(o)})}}function ji(n,t){let o=pn(n);t.validator!==null?n.setValidators(yi(o,t.validator)):typeof o=="function"&&n.setValidators([o]);let e=hn(n);t.asyncValidator!==null?n.setAsyncValidators(yi(e,t.asyncValidator)):typeof e=="function"&&n.setAsyncValidators([e]);let i=()=>n.updateValueAndValidity();Ci(t._rawValidators,i),Ci(t._rawAsyncValidators,i)}function bn(n,t){t.valueAccessor.registerOnChange(o=>{n._pendingValue=o,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ri(n,t)})}function xn(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ri(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Ri(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wn(n,t){let o=(e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)};n.registerOnChange(o),t._registerOnDestroy(()=>{n._unregisterOnChange(o)})}function In(n,t){n==null,ji(n,t)}function Mn(n,t){if(!n.hasOwnProperty("model"))return!1;let o=n.model;return o.isFirstChange()?!0:!Object.is(t,o.currentValue)}function Pn(n){return Object.getPrototypeOf(n.constructor)===nn}function An(n,t){n._syncPendingControls(),t.forEach(o=>{let e=o.control;e.updateOn==="submit"&&e._pendingChange&&(o.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Vn(n,t){if(!t)return null;Array.isArray(t);let o,e,i;return t.forEach(r=>{r.constructor===Y?o=r:Pn(r)?e=r:i=r}),i||e||o||null}var Dn={provide:lt,useExisting:pt(()=>$e)},bt=Promise.resolve(),$e=(()=>{let t=class t extends lt{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new X,this.form=new ae({},He(e),Be(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){bt.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Fi(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){bt.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){bt.then(()=>{let i=this._findContainer(e.path),r=new ae({});In(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){bt.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){bt.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,An(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}};t.\u0275fac=function(i){return new(i||t)(f(Ne,10),f(Pi,10),f(qe,8))},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&y("submit",function(_){return r.onSubmit(_)})("reset",function(){return r.onReset()})},inputs:{options:[ht.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gt([Dn]),z]});let n=t;return n})();function bi(n,t){let o=n.indexOf(t);o>-1&&n.splice(o,1)}function xi(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var On=class extends se{constructor(t=null,o,e){super(Ti(o),ki(e,o)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ce(o)&&(o.nonNullable||o.initialValueIsDefault)&&(xi(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,o={}){this.value=this._pendingValue=t,this._onChange.length&&o.emitModelToViewChange!==!1&&this._onChange.forEach(e=>e(this.value,o.emitViewToModelChange!==!1)),this.updateValueAndValidity(o)}patchValue(t,o={}){this.setValue(t,o)}reset(t=this.defaultValue,o={}){this._applyFormState(t),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){bi(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){bi(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){xi(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Sn={provide:xt,useExisting:pt(()=>et)},wi=Promise.resolve(),et=(()=>{let t=class t extends xt{constructor(e,i,r,l,_,H){super(),this._changeDetectorRef=_,this.callSetDisabledState=H,this.control=new On,this._registered=!1,this.name="",this.update=new X,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Vn(this,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Mn(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Fi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){wi.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&Ce(i);wi.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?_n(e,this._parent):[e]}};t.\u0275fac=function(i){return new(i||t)(f(lt,9),f(Ne,10),f(Pi,10),f(Mi,10),f(ii,8),f(qe,8))},t.\u0275dir=B({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ht.None,"disabled","isDisabled"],model:[ht.None,"ngModel","model"],options:[ht.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gt([Sn]),z,fe]});let n=t;return n})(),Ni=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=t;return n})();var En=(()=>{let t=class t{constructor(){this._validator=gi}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):gi,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t,features:[fe]});let n=t;return n})();var Tn={provide:Ne,useExisting:pt(()=>Ge),multi:!0};var Ge=(()=>{let t=class t extends En{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ce,this.createValidator=e=>cn}enabled(e){return e}};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=ge(t)))(r||t)}})(),t.\u0275dir=B({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Ke("required",r._enabled?"":null)},inputs:{required:"required"},features:[gt([Tn]),z]});let n=t;return n})();var kn=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=me({type:t}),t.\u0275inj=he({});let n=t;return n})();var ut=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:[{provide:qe,useValue:e.callSetDisabledState??Ue}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=me({type:t}),t.\u0275inj=he({imports:[kn]});let n=t;return n})();var Hi=(()=>{let t=class t{constructor(){this.items=[{id:1,title:"Item 1",description:"Description for Item 1",imageUrl:"https://img.freepik.com/free-photo/shoe-elegance-symbol-modern-computer-graphic-motion-nature-generated-by-ai_188544-19640.jpg?size=626&ext=jpg&ga=GA1.1.735520172.1711152000&semt=ais"},{id:2,title:"Item 2",description:"Description for Item 1",imageUrl:"https://img.freepik.com/free-photo/shoe-elegance-symbol-modern-computer-graphic-motion-nature-generated-by-ai_188544-19640.jpg?size=626&ext=jpg&ga=GA1.1.735520172.1711152000&semt=ais"},{id:3,title:"Item 3",description:"Description for Item 1",imageUrl:"https://img.freepik.com/free-photo/shoe-elegance-symbol-modern-computer-graphic-motion-nature-generated-by-ai_188544-19640.jpg?size=626&ext=jpg&ga=GA1.1.735520172.1711152000&semt=ais"}]}getAllItems(){return this.items}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Z=(()=>{let t=class t{constructor(e){this.productService=e,this.products=[]}getAllProducts(){return this.productService.getAllProduct().subscribe(e=>{this.products=e}),console.log("products",this.products),this.products}getProductById(e){let i={id:e};return this.productService.getProductById(i)}getCarouselItems(){return this.productService.getCarouselItems()}getCategoriesById(e){let i={category:e};return this.productService.getProductsByCategory(i)}};t.\u0275fac=function(i){return new(i||t)(x(Ae))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var jn=n=>({active:n});function Rn(n,t){if(n&1&&(a(0,"div",20),I(1,"img",21),c()),n&2){let o=t.$implicit,e=t.index;v("ngClass",Ze(3,jn,e===0)),h(),Ye("alt",o.id),v("src",o.imageUrl,W)}}function Nn(n,t){if(n&1){let o=M();a(0,"div",22)(1,"div",7),y("click",function(){let i=C(o).$implicit,r=g();return b(r.redirectToProductDetails(i.id))}),I(2,"app-product",23),c()()}if(n&2){let o=t.$implicit;h(2),v("product",o)}}var Bi=(()=>{let t=class t{constructor(e,i,r){this.router=e,this.itemService=i,this.productService=r,this.products=[],this.items=[],this.carouselItems=[],this.filteredProducts=[],this.searchQuery=""}ngOnInit(){this.loadProducts(),this.items=this.itemService.getAllItems(),this.productService.getCarouselItems().subscribe(e=>this.carouselItems=e,e=>console.error("Error fetching carousel items:",e))}loadProducts(){this.products=this.productService.getAllProducts(),this.filteredProducts=[...this.products]}redirectToProductDetails(e){e&&this.router.navigate(["/product",e])}filterProducts(){this.searchQuery.trim()?this.filteredProducts=this.products.filter(e=>e.name?.toLowerCase().includes(this.searchQuery.toLowerCase())):this.filteredProducts=[...this.products]}sortProducts(e){this.filteredProducts=this.filteredProducts.sort((i,r)=>{let l=i?.price||0,_=r?.price||0;return e==="asc"?l-_:_-l})}};t.\u0275fac=function(i){return new(i||t)(f(R),f(Hi),f(Z))},t.\u0275cmp=V({type:t,selectors:[["app-home"]],standalone:!0,features:[D],decls:30,vars:3,consts:[[1,"container"],[1,"row","mb-4"],[1,"col-md-6"],["type","text","placeholder","Search products...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"dropdown"],["type","button","id","sortDropdown","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","sortDropdown",1,"dropdown-menu"],[3,"click"],[1,"dropdown-item"],[1,"row"],[1,"col-md-12","mb-4"],["id","carouselExample","data-bs-ride","carousel","data-bs-interval","3000",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExample","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExample","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"carousel-item",3,"ngClass"],[1,"d-block","w-100",3,"src","alt"],[1,"col-md-4","mb-4"],[3,"product"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),G("ngModelChange",function(_){return $(r.searchQuery,_)||(r.searchQuery=_),_}),y("input",function(){return r.filterProducts()}),c()(),a(4,"div",2)(5,"div",4)(6,"button",5),m(7," Sort by Price "),c(),a(8,"ul",6)(9,"li",7),y("click",function(){return r.sortProducts("asc")}),a(10,"a",8),m(11,"Low to High"),c()(),a(12,"li",7),y("click",function(){return r.sortProducts("desc")}),a(13,"a",8),m(14,"High to Low"),c()()()()()(),a(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12),P(19,Rn,2,5,"div",13),c(),a(20,"button",14),I(21,"span",15),a(22,"span",16),m(23,"Previous"),c()(),a(24,"button",17),I(25,"span",18),a(26,"span",16),m(27,"Next"),c()()()()(),a(28,"div",9),P(29,Nn,3,1,"div",19),c()()),i&2&&(h(3),U("ngModel",r.searchQuery),h(16),v("ngForOf",r.carouselItems),h(10),v("ngForOf",r.filteredProducts))},dependencies:[S,ri,J,ee,ot,ut,Y,dt,et],styles:[".product-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.product-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-basis:25%;box-sizing:border-box;margin-bottom:20px}.product-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:last-child){margin-right:15px}@media (max-width: 992px){.product-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-basis:33.33%}}@media (max-width: 768px){.product-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-basis:50%}}@media (max-width: 576px){.product-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-basis:100%}}.carousel-container[_ngcontent-%COMP%]{height:50vh}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80vh}.carousel-caption[_ngcontent-%COMP%]{background-color:#00000080;color:#fff;padding:10px}.carousel-caption[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:0}.carousel[_ngcontent-%COMP%]{width:100%}.carousel-image[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}"]});let n=t;return n})();var de=(()=>{let t=class t{constructor(){this.quantity=0,this.quantityChange=new X}updateQuantity(e){let i=this.quantity+e;i>=0&&(this.quantity=i,this.quantityChange.emit(this.quantity))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=V({type:t,selectors:[["app-quantity-control"]],inputs:{quantity:"quantity"},outputs:{quantityChange:"quantityChange"},standalone:!0,features:[D],decls:7,vars:1,consts:[[1,"quantity-controls"],[1,"quantity-btn",3,"click"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"button",1),y("click",function(){return r.updateQuantity(-1)}),m(2,"-"),c(),a(3,"span"),m(4),c(),a(5,"button",1),y("click",function(){return r.updateQuantity(1)}),m(6,"+"),c()()),i&2&&(h(4),O(r.quantity))},styles:[".quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center}.quantity-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:8px 12px;font-size:16px;cursor:pointer;transition:background-color .3s ease}.quantity-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.quantity-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.quantity-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{border-top-left-radius:5px;border-bottom-left-radius:5px}.quantity-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{border-top-right-radius:5px;border-bottom-right-radius:5px}.quantity-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 10px;font-size:16px;font-weight:700;color:#333}"]});let n=t;return n})();var qi=(()=>{let t=class t{constructor(e){this.productService=e,this.productsCache=[],this.cacheTimestamp=0,this.cacheDuration=30*60*1e3,this.productsSubject=new it([])}getProducts(){if(Date.now()-this.cacheTimestamp>this.cacheDuration||this.productsCache.length===0){let e=this.productService.getAllProducts();this.productsCache=e,this.cacheTimestamp=Date.now(),this.productsSubject.next(e)}return this.productsSubject.asObservable()}getProductById(e){return this.getProducts().pipe(s(i=>i.find(r=>r.id===e)),s(i=>{if(i)return i;throw new Error("Product not found")}))}};t.\u0275fac=function(i){return new(i||t)(x(Z))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Bn(n,t){if(n&1){let o=M();a(0,"div",6)(1,"div",7)(2,"div",8),I(3,"img",9),Xe(4,"async"),c(),a(5,"div",10)(6,"div",3)(7,"h5",4),m(8),c(),a(9,"app-quantity-control",11),y("quantityChange",function(i){let r=C(o).$implicit,l=g();return b(l.updateQuantity(r,i))}),c()()()()()}if(n&2){let o=t.$implicit,e=g();h(3),v("src",ti(4,3,e.getProductImageUrl(o.productId)),W),h(5),O(o.productId),h(),v("quantity",o.quantity||0)}}function qn(n,t){n&1&&(a(0,"div",12),m(1," Your cart is empty. "),c())}var ue=(()=>{let t=class t{constructor(e,i,r){this.cartService=e,this.productService=i,this.authService=r,this.productsInCart=[],this.address="",this.phoneNumber="",this.total=0,this.commonProducts=[]}ngOnInit(){if(this.isAuthenticated){let i=this.cartService.getUserCart("koli1"),r=this.cartService.getItems();It([i,r]).subscribe(([l,_])=>{let H=this.mergeCarts(l,Array.isArray(_)?_:[_]);this.productsInCart=H})}else this.productsInCart=this.cartService.getItems();this.products$=this.productService.getProducts(),this.products$.subscribe(e=>{this.commonProducts=e.filter(i=>this.productsInCart.some(r=>r.productId===i.id)),this.total=this.cartService.getTotalPrice(this.commonProducts,this.productsInCart)})}get isAuthenticated(){return this.authService.isLoggedIn()}getProductImageUrl(e){return this.productService.getProductById(e??"o").pipe(s(i=>i.imageUrl||"default-image.jpg"),Je(i=>(console.error("Error fetching product image:",i),ze("Product image URL not found"))))}updateQuantity(e,i){i>0?(e.quantity=i,this.cartService.addToCart({productId:e.productId,quantity:e.quantity})):this.cartService.removeFromCart(e.productId)}mergeCarts(e,i){let r=[...i];if(e.products)for(let l of e.products){let _=r.findIndex(H=>H.productId===l.productId);_!==-1&&l.quantity?r[_].quantity=r[_].quantity??0+l.quantity??0:r.push(l)}return r}};t.\u0275fac=function(i){return new(i||t)(f(K),f(qi),f(N))},t.\u0275cmp=V({type:t,selectors:[["app-cart"]],standalone:!0,features:[D],decls:7,vars:3,consts:[[1,"cart"],["class","cart-item card mb-3",4,"ngFor","ngForOf"],[1,"cart-total","card"],[1,"card-body"],[1,"card-title"],["class","alert alert-warning mt-3","role","alert",4,"ngIf"],[1,"cart-item","card","mb-3"],[1,"row","no-gutters"],[1,"col-md-4"],["alt","Product Image",1,"card-img","img-fluid",3,"src"],[1,"col-md-8"],[3,"quantityChange","quantity"],["role","alert",1,"alert","alert-warning","mt-3"]],template:function(i,r){i&1&&(a(0,"div",0),P(1,Bn,10,5,"div",1),a(2,"div",2)(3,"div",3)(4,"h5",4),m(5),c()()(),P(6,qn,2,0,"div",5),c()),i&2&&(h(),v("ngForOf",r.productsInCart),h(4),rt("Total: $",r.total,""),h(),v("ngIf",r.productsInCart.length===0))},dependencies:[S,J,F,oi,de],styles:[".cart[_ngcontent-%COMP%]{margin-top:20px}.cart-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dee2e6;border-radius:5px;box-shadow:0 2px 4px #0000001a}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5px 0 0 5px}.cart-item[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:10px}.cart-item[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-bottom:5px}.cart-item[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:14px;color:#6c757d}.cart-total[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.cart-total[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:10px}.cart-total[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:0}.checkout-summary[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.checkout-summary[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem}.total-price[_ngcontent-%COMP%]{margin-top:20px}"]});let n=t;return n})();function Un(n,t){if(n&1){let o=M();mt(0),a(1,"div",11)(2,"p",12),m(3,"Login for faster checkout experience"),c(),a(4,"button",13),y("click",function(){C(o);let i=g();return b(i.proceedToLogin())}),m(5,"Login"),c()(),ft()}}function $n(n,t){if(n&1){let o=M();mt(0),a(1,"form",14),y("ngSubmit",function(){C(o);let i=g();return b(i.proceedToPayment())}),a(2,"div",15)(3,"div",16)(4,"label",17),m(5,"Address:"),c(),a(6,"input",18),G("ngModelChange",function(i){C(o);let r=g();return $(r.address,i)||(r.address=i),b(i)}),c()(),a(7,"div",16)(8,"label",19),m(9,"Phone Number:"),c(),a(10,"input",20),G("ngModelChange",function(i){C(o);let r=g();return $(r.phoneNumber,i)||(r.phoneNumber=i),b(i)}),c()(),a(11,"button",21),m(12,"Proceed to Payment"),c()()(),ft()}if(n&2){let o=g();h(6),U("ngModel",o.address),h(4),U("ngModel",o.phoneNumber)}}function Gn(n,t){if(n&1){let o=M();a(0,"div")(1,"input",24),G("ngModelChange",function(i){C(o);let r=g(2);return $(r.newAddress,i)||(r.newAddress=i),b(i)}),c(),a(2,"button",25),y("click",function(){C(o);let i=g(2);return b(i.saveNewAddress())}),m(3,"Save Address"),c()()}if(n&2){let o=g(2);h(),U("ngModel",o.newAddress)}}function Ln(n,t){if(n&1&&(a(0,"div")(1,"p"),m(2),c()()),n&2){let o=g(2);h(2),O(o.address)}}function Wn(n,t){if(n&1){let o=M();a(0,"div",22)(1,"label")(2,"input",23),y("click",function(){C(o);let i=g();return b(i.fetchExistingAddress())}),c(),m(3," Use Existing Address "),c(),a(4,"label")(5,"input",23),y("click",function(){C(o);let i=g();return b(i.toggleAddressForm())}),c(),m(6," Enter New Address "),c()(),P(7,Gn,4,1,"div",9)(8,Ln,3,1,"div",9)}if(n&2){let o=g();h(7),v("ngIf",o.showAddressForm),h(),v("ngIf",o.address!==null&&!o.showAddressForm)}}var Ui=(()=>{let t=class t{constructor(e,i,r){this.location=e,this.router=i,this.authService=r,this.productsInCart=[],this.address="",this.phoneNumber="",this.total=0,this.commonProducts=[],this.showAddressOptions=!0,this.showAddressForm=!1,this.newAddress="",this.isAuthenticated=!1}ngOnInit(){this.authService.isAuthenticated$.subscribe(e=>{this.isAuthenticated=e})}toggleAddressForm(){this.showAddressForm=!this.showAddressForm}fetchExistingAddress(){this.authService.fetchAddress().subscribe(e=>{this.address=JSON.stringify(e.shippingAddresses)})}saveNewAddress(){this.address=this.newAddress,console.log("address",this.address)}proceedToLogin(){this.router.navigate(["/auth"])}proceedToPayment(){let e={key:"rzp_test_hvKHA49YunTUpT",amount:100,currency:"INR",name:"Koli",description:"Product/Service Purchase",handler:this.paymentSuccessHandler.bind(this),prefill:{name:"Customer Name",email:"customer@example.com",contact:"9876543210"}};new Razorpay(e).open()}paymentSuccessHandler(e){console.log("Payment Successful:",e)}paymentErrorHandler(e){console.error("Payment Error:",e)}goBack(){this.location.back()}};t.\u0275fac=function(i){return new(i||t)(f(Dt),f(R),f(N))},t.\u0275cmp=V({type:t,selectors:[["app-checkout"]],standalone:!0,features:[D],decls:13,vars:3,consts:[["addressForm",""],[1,"container","checkout-container"],[1,"back-button",3,"click"],[1,"fas","fa-arrow-left"],[1,"checkout-content"],[1,"cart-container"],[1,"cart"],[1,"address-container"],[1,"checkout-box"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"checkout-section"],[1,"text-muted","mb-3"],[1,"login-button","btn","btn-primary",3,"click"],[1,"checkout-form","card",3,"ngSubmit"],[1,"card-body"],[1,"form-group"],["for","address"],["type","text","id","address","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone"],["type","text","id","phone","name","phone","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],[1,"button-group"],["type","radio","name","addressOption",3,"click"],["type","text","placeholder","Enter new address",3,"ngModelChange","ngModel"],[3,"click"]],template:function(i,r){if(i&1){let l=M();a(0,"div",1)(1,"button",2),y("click",function(){return C(l),b(r.goBack())}),I(2,"i",3),m(3," Back "),c(),a(4,"div",4)(5,"div",5),I(6,"app-cart",6),c(),a(7,"div",7)(8,"div",8),P(9,Un,6,0,"ng-container",9)(10,$n,13,2,"ng-container",10)(11,Wn,9,2,"ng-template",null,0,Vt),c()()()()}if(i&2){let l=At(12);h(9),v("ngIf",!r.isAuthenticated),h(),v("ngIf",!r.isAuthenticated)("ngIfElse",l)}},dependencies:[ut,Ni,Y,dt,Ei,Ge,et,$e,S,F,ue],styles:[".product-card[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:8px;box-shadow:0 2px 4px #0000001a;transition:box-shadow .3s ease}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003}.product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:20px}.product-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:700;color:#333}.product-card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#666}.card[_ngcontent-%COMP%]{box-shadow:0 2px 4px #0000001a;border:none}.card-img[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%]{padding:10px}.card-title[_ngcontent-%COMP%]{margin-bottom:10px;color:#007bff}.card-text[_ngcontent-%COMP%]{color:#6c757d}.form-control[_ngcontent-%COMP%]{margin-bottom:15px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;width:auto;display:block;margin-top:20px}@media (max-width: 768px){.row.no-gutters[_ngcontent-%COMP%]{flex-direction:column}}.checkout-section[_ngcontent-%COMP%]{padding:20px;text-align:center}.checkout-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid #ced4da;border-radius:8px;padding:20px;box-shadow:0 2px 4px #0000001a;transition:box-shadow .3s ease}.login-button[_ngcontent-%COMP%]{margin-bottom:0}.back-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#007bff;font-size:16px;font-weight:700;cursor:pointer;transition:color .3s ease;display:flex;align-items:center}.back-button[_ngcontent-%COMP%]:hover{color:#0056b3}.back-button[_ngcontent-%COMP%]:active{transform:translateY(1px)}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.checkout-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-height:100vh}.checkout-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;max-width:1200px;margin-top:20px}.cart-container[_ngcontent-%COMP%], .address-container[_ngcontent-%COMP%]{flex:1}.cart-container[_ngcontent-%COMP%]{margin-right:10px}.address-container[_ngcontent-%COMP%]{margin-left:10px}.checkout-box[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:8px;padding:20px;box-shadow:0 2px 4px #0000001a}.checkout-section[_ngcontent-%COMP%]{margin-bottom:20px}.checkout-form[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}@media (max-width: 768px){.back-button[_ngcontent-%COMP%]{position:static;margin-bottom:20px}.checkout-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.cart-container[_ngcontent-%COMP%], .address-container[_ngcontent-%COMP%]{margin:0}}"]});let n=t;return n})();var pe=function(n){return n.SPORTS_SHOES="SPORTS_SHOES",n.CASUAL_SHOES="CASUAL_SHOES",n.CLOGS="CLOGS",n.SLIPPERS="SLIPPERS",n.FORMAL_SHOES="FORMAL_SHOES",n.BOOTS="BOOTS",n.ESPADRILLES="ESPADRILLES",n}(pe||{});function zn(n,t){if(n&1){let o=M();a(0,"li")(1,"a",19),y("click",function(){let i=C(o).$implicit,r=g();return b(r.navigateToCategoriesPage(i))}),m(2),c()()}if(n&2){let o=t.$implicit;h(2),O(o)}}function Jn(n,t){if(n&1){let o=M();a(0,"li")(1,"a",7),y("click",function(){C(o);let i=g();return b(i.navigateToAuthPage())}),I(2,"i",20),c()()}}var $i=(()=>{let t=class t{constructor(e,i,r){this.router=e,this.cartService=i,this.authService=r,this.itemsCount=0,this.items=[],this.categories=Object.keys(pe).map(l=>pe[l]),this.isNavbarOpen=!1,this.isCategoriesDropdownOpen=!1,this.isCartDropdownOpen=!1,this.items=this.cartService.getItems(),this.cartService.items$.subscribe(l=>{this.itemsCount=l.length})}get isAuthenticated(){return this.authService.isLoggedIn()}toggleNavbar(){this.isNavbarOpen=!this.isNavbarOpen}toggleCategoriesDropdown(){this.isCategoriesDropdownOpen=!this.isCategoriesDropdownOpen}toggleCartDropdown(){this.isCartDropdownOpen=!this.isCartDropdownOpen}proceedToCheckout(){this.router.navigate(["/checkout"])}navigateToHome(){this.router.navigate(["/home"])}navigateToAuthPage(){let e=this.router.url;this.router.navigate(["/auth"],{queryParams:{returnUrl:e}})}navigateToCategoriesPage(e){console.log("caeogry",e),this.router.navigate(["/categories"],{queryParams:{categoryId:e}})}};t.\u0275fac=function(i){return new(i||t)(f(R),f(K),f(N))},t.\u0275cmp=V({type:t,selectors:[["app-header"]],standalone:!0,features:[D],decls:26,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","active"],[1,"nav-link",3,"click"],[1,"nav-item","dropdown"],["id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"navbar-nav"],["href","#","id","navbarDropdownCart","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-shopping-cart"],["aria-labelledby","navbarDropdownCart",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","text-center"],[1,"btn","btn-primary","btn-proceed",3,"click"],[4,"ngIf"],[1,"dropdown-item",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(i,r){i&1&&(a(0,"nav",0)(1,"a",1),m(2,"Koli"),c(),a(3,"button",2),I(4,"span",3),c(),a(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),y("click",function(){return r.navigateToHome()}),m(9,"Home"),c()(),a(10,"li",8)(11,"a",9),m(12," Categories "),c(),a(13,"ul",10),P(14,zn,3,1,"li",11),c()()(),a(15,"ul",12)(16,"li",8)(17,"a",13),I(18,"i",14),c(),a(19,"ul",15),I(20,"app-cart"),mt(21),a(22,"div",16)(23,"button",17),y("click",function(){return r.proceedToCheckout()}),m(24,"Proceed to Checkout"),c()(),ft(),c()(),P(25,Jn,3,0,"li",18),c()()()),i&2&&(h(14),v("ngForOf",r.categories),h(11),v("ngIf",!r.isAuthenticated))},dependencies:[S,J,F,ue],styles:[".navbar-brand[_ngcontent-%COMP%]{font-weight:700;color:#333}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#333}.navbar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#007bff}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#333}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.dropdown-item.cart-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.dropdown-menu.dropdown-menu-right[_ngcontent-%COMP%]{left:auto;right:0}.btn-proceed[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;color:#fff;border-radius:5px;padding:8px 16px;font-size:16px;font-weight:700;transition:background-color .3s ease}.btn-proceed[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-proceed[_ngcontent-%COMP%]:active{transform:translateY(1px)}"]});let n=t;return n})();var Gi=(()=>{let t=class t{constructor(){this.title="koli_frontend"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=V({type:t,selectors:[["app-root"]],standalone:!0,features:[D],decls:2,vars:0,template:function(i,r){i&1&&I(0,"app-header")(1,"router-outlet")},dependencies:[$i,hi,ot]});let n=t;return n})();function Qn(n,t){if(n&1){let o=M();a(0,"div",3)(1,"div",4),I(2,"img",5),c(),a(3,"div",6)(4,"h2"),m(5),c(),a(6,"p",7),m(7),c(),a(8,"p",8),m(9),c(),a(10,"div",9)(11,"app-quantity-control",10),y("quantityChange",function(i){C(o);let r=g();return b(r.updateQuantity(i))}),c()(),a(12,"button",11),y("click",function(){C(o);let i=g();return b(i.navigateToCheckout())}),m(13,"Proceed to Checkout"),c()()()}if(n&2){let o=g();h(2),v("src",o.product.imageUrl,W),h(3),O(o.product.name),h(2),O(o.product.description),h(2),rt("$",o.product.price,""),h(2),v("quantity",o.quantity)}}var Li=(()=>{let t=class t{constructor(e,i,r,l,_,H){this.location=e,this.route=i,this.router=r,this.productService=l,this.cartService=_,this.authService=H,this.inCart=!1,this.quantity=0}ngOnInit(){let e=this.route.snapshot.params.id;if(this.productService.getProductById(e).subscribe(i=>{this.product=i,console.log("product details",this.product)}),this.inCart=this.cartService.isInCart(e),this.inCart){let i=this.cartService.getItems().find(r=>r.productId===e);this.quantity=i?.quantity??0}}addToCart(){this.cartService.addToCart({productId:this.product.id,quantity:1}),this.quantity++,this.inCart=!0}removeFromCart(){this.cartService.removeFromCart(this.product.id),this.quantity--,this.quantity<=0&&(this.inCart=!1)}updateQuantity(e){this.quantity=e,this.quantity>0?this.cartService.addToCart({productId:this.product.id,quantity:this.quantity}):this.cartService.removeFromCart(this.product.id)}navigateToCheckout(){console.log(this.product),this.router.navigate(["/checkout"],{state:{product:this.product}})}goBack(){this.location.back()}};t.\u0275fac=function(i){return new(i||t)(f(Dt),f(st),f(R),f(Z),f(K),f(N))},t.\u0275cmp=V({type:t,selectors:[["app-productdetail"]],standalone:!0,features:[D],decls:4,vars:1,consts:[[1,"back-button",3,"click"],[1,"fas","fa-arrow-left"],["class","product-details",4,"ngIf"],[1,"product-details"],[1,"image-container"],["alt","Product Image",1,"product-image",3,"src"],[1,"product-info"],[1,"description"],[1,"price"],[1,"quantity-controls"],[3,"quantityChange","quantity"],[1,"btn","btn-success","checkout-btn",3,"click"]],template:function(i,r){i&1&&(a(0,"button",0),y("click",function(){return r.goBack()}),I(1,"i",1),m(2,` Back
`),c(),P(3,Qn,14,5,"div",2)),i&2&&(h(3),v("ngIf",r.product))},dependencies:[S,F,de],styles:[".product-details[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:#f8f9fa;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a;margin:20px auto;max-width:800px}.image-container[_ngcontent-%COMP%]{width:40%}.product-image[_ngcontent-%COMP%]{width:100%;border-radius:8px}.product-info[_ngcontent-%COMP%]{flex:1;padding:0 20px}.product-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:24px;margin-bottom:10px}.description[_ngcontent-%COMP%]{color:#666;margin-bottom:15px}.price[_ngcontent-%COMP%]{color:#007bff;font-size:20px;margin-bottom:15px}.quantity-controls[_ngcontent-%COMP%]{margin-bottom:15px}.checkout-btn[_ngcontent-%COMP%]{width:100%;padding:10px 0}.back-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#007bff;font-size:16px;font-weight:700;cursor:pointer;transition:color .3s ease}.back-button[_ngcontent-%COMP%]:hover{color:#0056b3}.back-button[_ngcontent-%COMP%]:active{transform:translateY(1px)}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}"]});let n=t;return n})();function Kn(n,t){if(n&1&&(a(0,"div",14),m(1),c()),n&2){let o=g(2);h(),O(o.errorMessage)}}function Yn(n,t){if(n&1){let o=M();a(0,"div",7)(1,"h2",8),m(2,"Login"),c(),a(3,"div",9)(4,"input",10),G("ngModelChange",function(i){C(o);let r=g();return $(r.phoneIdentity.countryCode,i)||(r.phoneIdentity.countryCode=i),b(i)}),c()(),a(5,"div",9)(6,"input",11),G("ngModelChange",function(i){C(o);let r=g();return $(r.phoneIdentity.phoneNumber,i)||(r.phoneIdentity.phoneNumber=i),b(i)}),c()(),a(7,"button",12),y("click",function(){C(o);let i=g();return b(i.sendOTP())}),m(8,"Send OTP"),c(),P(9,Kn,2,1,"div",13),c()}if(n&2){let o=g();h(4),U("ngModel",o.phoneIdentity.countryCode),h(2),U("ngModel",o.phoneIdentity.phoneNumber),h(3),v("ngIf",o.errorMessage)}}function Zn(n,t){if(n&1&&(a(0,"div",14),m(1),c()),n&2){let o=g(2);h(),O(o.errorMessage)}}function Xn(n,t){if(n&1){let o=M();a(0,"div",15)(1,"h2",8),m(2,"Enter OTP"),c(),a(3,"div",9)(4,"input",16),G("ngModelChange",function(i){C(o);let r=g();return $(r.verifyIdentityRequest.otp,i)||(r.verifyIdentityRequest.otp=i),b(i)}),c()(),a(5,"button",12),y("click",function(){C(o);let i=g();return b(i.verifyOTP())}),m(6,"Verify OTP"),c(),P(7,Zn,2,1,"div",13),c()}if(n&2){let o=g();h(4),U("ngModel",o.verifyIdentityRequest.otp),h(3),v("ngIf",o.errorMessage)}}function tr(n,t){if(n&1){let o=M();a(0,"div")(1,"button",12),y("click",function(){C(o);let i=g();return b(i.logout())}),m(2,"Logout"),c()()}}var Wi=(()=>{let t=class t{constructor(e,i,r){this.route=e,this.router=i,this.authService=r,this.phoneIdentity={countryCode:"",phoneNumber:""},this.verifyIdentityRequest={phoneNumber:"",otp:"",sessionToken:""},this.errorMessage="",this.otpSent=!1,this.isAuthenticated=!1}ngOnInit(){this.authService.isAuthenticated$.subscribe(e=>{this.isAuthenticated=e})}sendOTP(){this.authService.sendOTP(this.phoneIdentity).subscribe(e=>{console.log("Response from sendOTP:",e),this.sendOTPResponse=e,this.otpSent=!0},e=>{console.error("Failed to send OTP:",e),this.errorMessage="Failed to send OTP. Please try again."})}verifyOTP(){if(!this.sendOTPResponse){this.errorMessage="Please send OTP first.";return}this.verifyIdentityRequest.phoneNumber=this.phoneIdentity.phoneNumber,this.verifyIdentityRequest.sessionToken=this.sendOTPResponse.token,this.authService.verifyOTP(this.verifyIdentityRequest).subscribe(e=>{if(console.log("Response from verifyOTP:",e),e.jwtToken){this.isAuthenticated=!0,this.authService.setAuthToken(e.jwtToken),console.log("authenticated",this.isAuthenticated);let i=this.route.snapshot.queryParams.returnUrl||"/";this.router.navigateByUrl(i)}else this.errorMessage="Invalid OTP. Please try again."},()=>{this.errorMessage="Failed to verify OTP. Please try again."})}logout(){this.authService.clearAuthToken(),this.router.navigate(["/home"])}};t.\u0275fac=function(i){return new(i||t)(f(st),f(R),f(N))},t.\u0275cmp=V({type:t,selectors:[["app-auth"]],standalone:!0,features:[D],decls:7,vars:3,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card","p-4"],["class","login-form",4,"ngIf"],["class","login-form mt-4",4,"ngIf"],[4,"ngIf"],[1,"login-form"],[1,"text-center","mb-4"],[1,"form-group"],["type","text","placeholder","Country Code",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Phone Number",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","btn-block",3,"click"],["class","text-danger mt-2",4,"ngIf"],[1,"text-danger","mt-2"],[1,"login-form","mt-4"],["type","text","placeholder","OTP",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),P(4,Yn,10,3,"div",4)(5,Xn,8,2,"div",5)(6,tr,3,0,"div",6),c()()()()),i&2&&(h(4),v("ngIf",!r.isAuthenticated&&!r.otpSent),h(),v("ngIf",!r.isAuthenticated&&r.otpSent),h(),v("ngIf",r.isAuthenticated))},dependencies:[ut,Y,dt,et,S,F],styles:[".login-form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.card[_ngcontent-%COMP%]{border:1px solid #dee2e6;border-radius:.25rem;box-shadow:0 .25rem .75rem #0000000d}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}.btn-block[_ngcontent-%COMP%]{display:block;width:100%}.form-control[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem #007bff40}"]});let n=t;return n})();function er(n,t){if(n&1){let o=M();a(0,"div",2)(1,"div",3),y("click",function(){let i=C(o).$implicit,r=g();return b(r.redirectToProductDetails(i.id))}),I(2,"app-product",4),c()()}if(n&2){let o=t.$implicit;h(2),v("product",o)}}var zi=(()=>{let t=class t{constructor(e,i,r){this.router=e,this.route=i,this.productService=r,this.products=[]}ngOnInit(){this.loadProducts()}loadProducts(){let e=this.route.snapshot.queryParams.categoryId;console.log("category",e),this.productService.getCategoriesById(e).subscribe(i=>{this.products=i,console.log("Fetched category:",i)},i=>{console.error("Error fetching category:",i)})}redirectToProductDetails(e){e&&this.router.navigate(["/product",e])}};t.\u0275fac=function(i){return new(i||t)(f(R),f(st),f(Z))},t.\u0275cmp=V({type:t,selectors:[["app-categories"]],standalone:!0,features:[D],decls:2,vars:1,consts:[[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[3,"click"],[3,"product"]],template:function(i,r){i&1&&(a(0,"div",0),P(1,er,3,1,"div",1),c()),i&2&&(h(),v("ngForOf",r.products))},dependencies:[S,J,ee,ot]});let n=t;return n})();var Ji=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Bi},{path:"product/:id",component:Li},{path:"auth",component:Wi},{path:"categories",component:zi},{path:"checkout",component:Ui}];var Qi={providers:[mi(Ji),ui(),li()]};var ir={providers:[pi()]},Ki=ni(Qi,ir);var nr=()=>di(Gi,Ki),fl=nr;export{fl as a};
